import{_ as t,r as i,o as p,c as o,a as n,b as s,d as c,e}from"./app-B7NBrfyx.js";const l={},d=e(`<h3 id="前言" tabindex="-1"><a class="header-anchor" href="#前言"><span>前言</span></a></h3><p>市面上博客系统似乎特别多，本来看微微姐用 wordpress 搭建的博客，但是似乎这个是用以前世界上最好用的语言PHP写的，我个人希望定制化高一些，所以选择了 vuepress，毕竟 vue 我相对熟悉一些。</p><p>于是，从阿b找了个视频准备照猫画虎的做，但是做了一段时间后发现，实际视频中教的美化类的写法并不能适应我的实际需求，而且微博本来作为一个记录用的工具，专注于美化有点像为了碟醋报了个饺子，所以我推翻了原来的项目，从头开始。</p><h3 id="开始搭建" tabindex="-1"><a class="header-anchor" href="#开始搭建"><span>开始搭建</span></a></h3><p>我是基于nodejs 20.x 搭建的，默认所有人都已经拥有了 node20 的环境。</p><p>但是如果你没有 pnpm 环境，那么建议优先安装它</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-g</span> <span class="token function">pnpm</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,7),r={href:"https://v2.vuepress.vuejs.org/zh/",target:"_blank",rel:"noopener noreferrer"},u=e(`<div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">pnpm</span> create vuepress blog
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>使用命令后，他会指引你创建一个 vuepress 项目，并且会帮助你创建一个 github action 的 workflow。</p><p>进入项目目录, 在根目录下添加<code>.gitignore</code>文件</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>.idea
.vscode
node_modules
<span class="token comment"># VuePress 默认临时文件目录</span>
docs/.vuepress/.temp
<span class="token comment"># VuePress 默认缓存目录</span>
docs/.vuepress/.cache
<span class="token comment"># VuePress 默认构建生成的静态文件目录</span>
docs/.vuepress/dist
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果你的 git 默认的 branch 不是 <code>main</code>，比如我就默认用的 <code>master</code>，你需要将.github/workflow/deploy-docs.yml 中的 branches 改为 master</p><h3 id="初始化项目" tabindex="-1"><a class="header-anchor" href="#初始化项目"><span>初始化项目</span></a></h3><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">git</span> init
<span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span>
<span class="token function">git</span> commit <span class="token parameter variable">-m</span> <span class="token string">&quot;init&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在 github 中创建一个 xxx.github.io 的项目，xxx 你 github 的 id，创建后, 获取到 ssh 地址</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">git</span> remote <span class="token function">add</span> origin git@github.com:xxx/xxx.github.io.git
<span class="token function">git</span> push <span class="token parameter variable">-u</span> origin master
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>这时，你 github 的项目会自动运行 action，等待片刻后，在项目的 settings 中找到 page 选项卡，将 branch 改为 gh-pages 分支，此时，xxx.github.io 就是你的博客网站啦。</p><h3 id="更换首页及主题图" tabindex="-1"><a class="header-anchor" href="#更换首页及主题图"><span>更换首页及主题图</span></a></h3><blockquote><p>自动创建的 <code>/docs/.vuepress/config.js</code> 与 <code>/docs/.vuepress/client.js</code> 为 <code>js</code> 文件，为了方便后续开发，我们将它改为 <code>ts</code> 文件</p></blockquote><p><code>vuepress</code> 默认的首页是 <code>README.md</code>，这会让 github 的 readme 显示首页的内容，我们可以创建个 index.md 做首页。但是，当 <code>index.md</code> 和 <code>README.md</code> 都存在时，<code>vuepress</code> 会将两个文件都编译，所以我们需要在 <code>/docs/.vuepress/config.ts</code> 中添加以下配置</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineUserConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token operator">...</span>
    
  # 增加 favicon
  <span class="token literal-property property">head</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&#39;link&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">rel</span><span class="token operator">:</span> <span class="token string">&#39;icon&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">href</span><span class="token operator">:</span> <span class="token string">&#39;/images/avatar.jpg&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    
  # 忽略 <span class="token constant">README</span><span class="token punctuation">.</span>md 编译
  <span class="token literal-property property">pagePatterns</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;**/*.md&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;!**/README.md&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;!.vuepress&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;!node_modules&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  
  <span class="token operator">...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>其中，资源会读取 <code>/docs/.vuepress/public/</code> 下的文件</li></ul>`,15);function v(m,h){const a=i("ExternalLinkIcon");return p(),o("div",null,[d,n("p",null,[s("vuepress 的"),n("a",r,[s("文档"),c(a)]),s("写的非常详细，我们只需要一条命令")]),u])}const g=t(l,[["render",v],["__file","从0开始搭建vuepress2博客（1）.html.vue"]]),k=JSON.parse('{"path":"/posts/%E4%BB%8E0%E5%BC%80%E5%A7%8B%E6%90%AD%E5%BB%BAvuepress2%E5%8D%9A%E5%AE%A2%EF%BC%881%EF%BC%89.html","title":"从0开始搭建vuepress2博客（1）","lang":"zh-CN","frontmatter":{"date":"2024-03-15T00:00:00.000Z","title":"从0开始搭建vuepress2博客（1）","category":["从0开始搭建vuepress2博客"],"tag":["blog","vuepress2"]},"headers":[{"level":3,"title":"前言","slug":"前言","link":"#前言","children":[]},{"level":3,"title":"开始搭建","slug":"开始搭建","link":"#开始搭建","children":[]},{"level":3,"title":"初始化项目","slug":"初始化项目","link":"#初始化项目","children":[]},{"level":3,"title":"更换首页及主题图","slug":"更换首页及主题图","link":"#更换首页及主题图","children":[]}],"git":{"updatedTime":1710483616000,"contributors":[{"name":"Flandre","email":"flantan233@gmail.com","commits":2}]},"filePathRelative":"posts/从0开始搭建vuepress2博客（1）.md","excerpt":"<h3>前言</h3>\\n<p>市面上博客系统似乎特别多，本来看微微姐用 wordpress 搭建的博客，但是似乎这个是用以前世界上最好用的语言PHP写的，我个人希望定制化高一些，所以选择了 vuepress，毕竟 vue 我相对熟悉一些。</p>\\n<p>于是，从阿b找了个视频准备照猫画虎的做，但是做了一段时间后发现，实际视频中教的美化类的写法并不能适应我的实际需求，而且微博本来作为一个记录用的工具，专注于美化有点像为了碟醋报了个饺子，所以我推翻了原来的项目，从头开始。</p>\\n<h3>开始搭建</h3>\\n<p>我是基于nodejs 20.x 搭建的，默认所有人都已经拥有了 node20 的环境。</p>"}');export{g as comp,k as data};
